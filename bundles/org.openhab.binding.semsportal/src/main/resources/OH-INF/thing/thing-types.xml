<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="semsportal"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

	<thing-type id="station">
		<label>SEMSPortal Power Station</label>
		<description>A Power Station is the GoodWE converter that is connected through the internet with the SEMSPortal.
			Configuration will only work if you have used this account at least once in the portal itsself.</description>

		<channels>
			<channel id="onlineState" typeId="onlineState"/>
			<channel id="lastUpdate" typeId="lastUpdate"/>
			<channel id="currentUutput" typeId="currentOutput"/>
			<channel id="todayTotal" typeId="todayTotal"/>
			<channel id="monthTotal" typeId="monthTotal"/>
			<channel id="overallTotal" typeId="overallTotal"/>
			<channel id="todayIncome" typeId="todayIncome"/>
			<channel id="totalIncome" typeId="totalIncome"/>
		</channels>

		<config-description>

			<parameter name="username" type="text" required="true">
				<label>Username</label>
				<description>Account name of the SEMS portal</description>
			</parameter>

			<parameter name="password" type="text" required="true">
				<label>Password</label>
				<context>password</context>
				<description>Password of the SEMS portal</description>
			</parameter>

			<parameter name="station" type="text" required="true">
				<label>Station</label>
				<description>Unique ID of the station. Can be obtained after logging in to the SEMS portal. After logging in, the
					URL contains this value after the last / character.
					https://www.semsportal.com/powerstation/powerstatussnmin/&gt;all-characters-here&lt;</description>
			</parameter>

			<parameter name="update" type="integer" required="false" min="1" max="60">
				<label>Update Frequency</label>
				<description>Number of minutes between two updates. Defaults to 5 minutes.</description>
			</parameter>

		</config-description>

	</thing-type>

	<channel-type id="onlineState">
		<item-type>Switch</item-type>
		<label>Online State</label>
		<description>If the device is currently reporting to the SEMS portal</description>
	</channel-type>
	<channel-type id="lastUpdate">
		<item-type>DateTime</item-type>
		<label>Last Update</label>
		<description>Timestamp that the last information was received from the station. This is not the same as the last time
			that was checked: the station goes offline at night.</description>
	</channel-type>
	<channel-type id="currentOutput">
		<item-type>Number</item-type>
		<label>Current Output</label>
		<description>Current output in Watts</description>
	</channel-type>
	<channel-type id="todayTotal">
		<item-type>Number</item-type>
		<label>Todays total output </label>
		<description>Todays total output in kWh</description>
	</channel-type>
	<channel-type id="monthTotal">
		<item-type>Number</item-type>
		<label>Current Month Total Output</label>
		<description>The total output of this month in kWh</description>
	</channel-type>
	<channel-type id="overallTotal">
		<item-type>Number</item-type>
		<label>Total Output</label>
		<description>The total output from the start of the installation in kWh</description>
	</channel-type>
	<channel-type id="todayIncome">
		<item-type>Number</item-type>
		<label>Todays Income</label>
		<description>Todays income. Only reports if you have set the tariffs in the SEMS portal. Unit is the currency that is
			set in these tariffs.</description>
	</channel-type>
	<channel-type id="totalIncome">
		<item-type>Number</item-type>
		<label>Total Income</label>
		<description>Total income since installation. Only reports if you have set the tariffs in the SEMS portal. Unit is the
			currency that is set in these tariffs.</description>
	</channel-type>

</thing:thing-descriptions>
